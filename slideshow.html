<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>HTML Slideshow</title>
    <style>
      :root {
          --scale: 1vmin;
          --letterbox-color: black;
      }
      html, body {
          margin: 0;
          padding: 0;
          background: var(--letterbox-color);
          height: 100%;
          overflow: hidden;
      }

      :-webkit-full-screen {
          background-color: var(--letterbox-color);
      }
      :-ms-fullscreen {
          background-color: var(--letterbox-color);
      }
      :fullscreen {
          background-color: var(--letterbox-color);
      }

      .slide-hidden {
          display: none;
      }

      .slideshow-wrapper {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 100vw;
          height: 56.25vw; /* 16:9 aspect ratio (9/16 = 0.5625) */
          max-height: 100vh;
          max-width: 177.78vh; /* 16/9 = 1.7778 */
          transform: translate(-50%, -50%);
          background: white;
          box-shadow: 0 0 20px rgba(0,0,0,0.5);
          display: flex;
          align-items: center;
          justify-content: center;
      }

      .slide-container {
          position: relative;
          width: 100%;
          height: 100%;
      }

      .slide {
          position: absolute;
          width: 100%;
          height: 100%;
          padding: calc(4 * var(--scale));
          box-sizing: border-box;
          font-size: calc(2.5 * var(--scale));
          display: none;
          justify-content: center;
          align-items: center;
          flex-direction: column;
          text-align: left;
      }

      .slide.active {
          display: flex;
      }

      .controls {
          display: none;
          position: absolute;
          bottom: 10px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 100;
      }

      .controls button {
          padding: 0.8em 1.2em;
          font-size: 1em;
          margin: 0 10px;
          cursor: pointer;
          border-radius: 8px;
          border: none;
          background-color: #333;
          color: white;
      }

      h1 {
          margin: 0;
      }

      .subtitle {
          font-size: calc(2 * var(--scale));
      }

      .subtitle code {
          font-size: calc(1.5 * var(--scale));
      }

      img {
          max-width: 100%;
          max-height: 50%;
      }

      code {
          color: rgb(151, 34,138);
          font-size: calc(2 * var(--scale));
      }

      li {
          padding-top: var(--scale);
          padding-bottom: var(--scale);
      }

      .highlight {
          font-family: monospace, monospace;
          font-size: calc(1 * var(--scale));
      }

      .highlight .p { /* Plain text */
          color: #24292e;
      }

      .highlight .nd, /* CSS pseudo class names */
      .highlight .nc { /* CSS class names */
          color: #008080; /* turquoise */
      }

      .highlight .nt { /* HTML tag names (e.g., <div>) */
          color: #4895ef; /* navy blue */
      }

      .highlight .k, /* CSS property names (e.g. display, position, color, ..) */
      .highlight .na { /* HTML attribute names (e.g., href) */
          color: #6f42c1; /* purple */
      }

      .highlight .s, /* HTML attribute string values (e.g., "https://...") */
      .highlight .s1, /* JS strings (single-quoted) */
      .highlight .s2, /* JS strings (double-quoted) */
      .highlight .sb { /* JS strings (backtick quoted) */
          color: #d73a49; /* reddish */
      }

      .highlight .c1 { /* JS single line comments */
          color: #08a045; /* green */
      }

      .highlight .si { /* JS backtick brackets */
          color: #fdb515; /* gold */
      }

      .highlight .o { /* Operators like '=' */
          color: #d73a49; /* reddish */
      }

      .highlight .nx { /* JavaScript variable names and identifiers */
          color: #000000; /* black */
      }

      .highlight .nb { /* JS built-in globals like `document`, `console` */
          color: #e36209; /* orange */
      }

      .highlight .w { /* Whitespace (optional, usually ignored) */
          color: inherit;
      }

      .highlight .kc, /* CSS keywords (none, auto, etc.) */
      .highlight .kd { /* JS keywords (function, const, etc.) */
          color: #8b008b; /* mark magenta */
      }

      .highlight .mf { /* JS numbers */
          color: #005cc5; /* strong blue */
      }

      .added {
          background: rgb(205, 245, 214);
      }

      .mid-beforeafter {
          text-align: center;
          margin: var(--scale);
      }

      #slide-howtostyle .proxy {
          position: absolute;
          border: none;
          background: rgba(0,0,0,0);
          color: rgba(0,0,0,0);
      }

      #slide-howtostyle .proxy:focus-visible {
          outline-color: rgb(0, 200, 255);
          outline-offset: 3px;
          outline-width: 10px;
          outline-style: solid;
      }

      #simple-ball-example canvas {
          position: absolute;
          border: 1px solid black;
          width: 100%;
          height: 100%;
      }
      #simple-ball-example .announcer {
          position: absolute;
          user-select: none;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: transparent; /* Hide visually */
      }
      #simple-ball-example .container {
          position: relative;
      }

      #simple-ball-demo canvas {
          position: absolute;
          border: 1px solid black;
          width: 100%;
          height: 100%;
      }
      #simple-ball-demo .announcer {
          position: absolute;
          user-select: none;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: transparent; /* Hide visually */
      }
      #simple-ball-demo .container {
          position: relative;
      }

      #custom-focus-indicator-demo canvas {
          position: absolute;
          border: 1px solid black;
          width: 100%;
          height: 100%;
      }
      #custom-focus-indicator-demo .announcer {
          position: absolute;
          user-select: none;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          opacity: 0;
      }
      #custom-focus-indicator-demo .announcer:focus-visible {
          opacity: 1;
      }
      #custom-focus-indicator-demo .container {
          position: relative;
      }
      #custom-focus-indicator-demo .focus-indicator {
          position: absolute;
          pointer-events: none;
          background-color: transparent;
          border-radius: 50%;
          box-shadow: 0 0 0 4px white, 0 0 0 8px #ff00ff;
      }
    </style>

    <script>
      let gScale;
      function updateScale() {
        const wrapper = document.querySelector('.slideshow-wrapper');
        const ratio = 16 / 9;
        const width = window.innerWidth;
        const height = window.innerHeight;

        if (width / height < ratio) {
          // Vertical letterboxing (black bars top/bottom)
          gScale = width / 100;
        } else {
          // Horizontal letterboxing (black bars left/right)
          gScale = height / 56.25; // 100vh = 56.25vw at 16:9
        }

        document.documentElement.style.setProperty('--scale', `${gScale}px`);
      }

      window.addEventListener('resize', updateScale);
      updateScale(); // Run on load
    </script>

  </head>
<body>
  <script src="https://www.ag-grid.com/charts/archive/11.0.0/dev/ag-charts-community/dist/umd/ag-charts-community.js?t=1733928648241"></script>

  <div class="slideshow-wrapper">
    <div class="slide-container">

      <div class="slide active">
        <h1>a11y &amp; Interactive Canvases</h1>
        <p class="subtitle">Leveraging the DOM &amp; ARIA to expose useful info to Assistive Technology.</p>

        <div style="padding-top: calc(4 * var(--scale)); display: flex; flex-direction: horizontal; height: 33%;">
          <img style="border-radius: 50%;" src="data:image/avif;base64,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" />
          <div style="font-size: calc(1.6 * var(--scale)); padding-left: var(--scale);">
            <strong>Oli Legat</strong><br/>Staff Software Engineer<br/>AG Grid
          </div>
        </div>
      </div>

      <div class="slide">
        <iframe style="width: 85%; height: 75%;" src="https://ag-grid.com/charts/"></iframe>
        <p><code>https://ag-grid.com/charts/</code></p>
      </div>

      <div class="slide">
        <h1>The Problem Space</h1>
        <p class="subtitle">Should I use an <code>&lt;svg&gt;</code> or a <code>&lt;canvas&gt;</code>?</p>
        <div style="display: flex; flex-direction: row; width: 82%">
          <div style="width: 50%">
            <p style="text-align: center"><strong>SVG</strong><p>
              <ul>
                <li>Vector-based graphics</li>
                <li>Rendered by Web Browser</li>
                <li>XML Hierarchy</li>
              </ul>
          </div>
          <div style="width: 50%">
            <p style="text-align: center"><strong>Canvas</strong><p>
              <ul>
                <li>Bitmap-based graphics</li>
                <li>Rendered by JavaScript Developer</li>
                <li>No Hierarchy<br/>(single <code>&lt;canvas&gt;</code> tag)</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="slide">
        <h1>SVG / Canvas Comparison</h1>

        <table style="width: 90%;">
          <tr>
            <td style="width: 50%;">
              <svg
                style="width: 100%;"
                viewBox="0 0 1800 600"
                preserveAspectRatio="xMidYMid meet">
                <circle
                  fill="red"
                  cx="300" cy="300" r="200" />
                <rect
                  fill="blue"
                  x="700" y="100" width="400" height="400" />
                <polygon
                  fill="green"
                  points="1500,100 1300,500 1700,500" />
              </svg>
            </td>
            <td style="width: 50%;">
              <canvas style="width: 100%;"  id="myCanvas"></canvas>
              <script>
                const canvas = document.getElementById("myCanvas");
                canvas.width = 1800;
                canvas.height = 600;

                const ctx = canvas.getContext("2d");
                ctx.fillStyle = "red";
                ctx.beginPath();
                ctx.arc(300, 300, 200, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = "blue";
                ctx.fillRect(700, 100, 400, 400);

                ctx.fillStyle = "green";
                ctx.beginPath();
                ctx.moveTo(1500, 100);
                ctx.lineTo(1300, 500);
                ctx.lineTo(1700, 500);
                ctx.closePath();
                ctx.fill();
              </script>
            </td>
          </tr>

          <tr style="vertical-align: top">
            <td>
              <div class="highlight">
                <!-- Generate source code view using `python3 -m pygments` -->
<pre><span class="p">&lt;</span><span class="nt">svg</span> <span class="na">viewBox</span><span class="o">=</span><span class="s">&quot;0 0 1800 600&quot;</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">circle</span>
    <span class="na">fill</span><span class="o">=</span><span class="s">&quot;red&quot;</span>
    <span class="na">cx</span><span class="o">=</span><span class="s">&quot;300&quot;</span> <span class="na">cy</span><span class="o">=</span><span class="s">&quot;300&quot;</span> <span class="na">r</span><span class="o">=</span><span class="s">&quot;200&quot;</span> <span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">rect</span>
    <span class="na">fill</span><span class="o">=</span><span class="s">&quot;blue&quot;</span>
    <span class="na">x</span><span class="o">=</span><span class="s">&quot;700&quot;</span> <span class="na">y</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;400&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;400&quot;</span> <span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">polygon</span>
    <span class="na">fill</span><span class="o">=</span><span class="s">&quot;green&quot;</span>
    <span class="na">points</span><span class="o">=</span><span class="s">&quot;1500,100 1300,500 1700,500&quot;</span> <span class="p">/&gt;</span>

<span class="p">&lt;/</span><span class="nt">svg</span><span class="p">&gt;</span></pre>
              </div>
            </td>

            <td>
              <div class="highlight">
<pre><span class="p">&lt;</span><span class="nt">canvas</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myCanvas&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">canvas</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kd">  const</span><span class="w"> </span><span class="nx">canvas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;myCanvas&quot;</span><span class="p">);</span>
<span class="nx">  canvas</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1800</span><span class="p">;</span>
<span class="nx">  canvas</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">600</span><span class="p">;</span>

<span class="kd">  const</span><span class="w"> </span><span class="nx">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;red&quot;</span><span class="p">;</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>

<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;blue&quot;</span><span class="p">;</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mf">700</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span><span class="w"> </span><span class="mf">400</span><span class="p">,</span><span class="w"> </span><span class="mf">400</span><span class="p">);</span>

<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;green&quot;</span><span class="p">;</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mf">1500</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">);</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mf">1300</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mf">1700</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
<span class="nx">  ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
<span class="p">&lt;</span><span class="nt">/script</span><span class="p">&gt;</span></pre>
              </div>
            </td>

          </tr>
        </table>
      </div>

      <div class="slide">
        <h1>The Solution: Hide The Canvas!</h1>
        <p class="subtitle">Use <code>aria-hidden: "true"</code> on the canvas, and add Proxy Elements</p>
        <div style="width: 100%; display: flex; flex-direction: row;">
          <div style="width: 63%;">
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">canvas</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myCanvas&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">canvas</span><span class="p">&gt;</span>
<span class="added">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position: absolute; top: 100px; left:  100px; height: 400px; width: 400px&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position: absolute; top: 100px; left:  700px; height: 400px; width: 400px&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position: absolute; top: 100px; left: 1300px; height: 400px; width: 400px&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">canvas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;myCanvas&quot;</span><span class="p">);</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1800</span><span class="p">;</span>
<span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">600</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;red&quot;</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;blue&quot;</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mf">700</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span><span class="w"> </span><span class="mf">400</span><span class="p">,</span><span class="w"> </span><span class="mf">400</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;green&quot;</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mf">1500</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mf">1300</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mf">1700</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
          </div>
          <div style="width: 37%; display: flex; flex-direction: column;">
            <div style="height: 50%;">
              <p class="mid-beforeafter">Before</p>
              <canvas style="width: 100%;"  id="myCanvas2"></canvas>
              <script>
                const canvas2 = document.getElementById("myCanvas2");
                canvas2.width = 1800;
                canvas2.height = 600;

                const ctx2 = canvas2.getContext("2d");
                ctx2.fillStyle = "red";
                ctx2.beginPath();
                ctx2.arc(300, 300, 200, 0, Math.PI * 2);
                ctx2.fill();

                ctx2.fillStyle = "blue";
                ctx2.fillRect(700, 100, 400, 400);

                ctx2.fillStyle = "green";
                ctx2.beginPath();
                ctx2.moveTo(1500, 100);
                ctx2.lineTo(1300, 500);
                ctx2.lineTo(1700, 500);
                ctx2.closePath();
                ctx2.fill();
              </script>
            </div>
            <div style="height: 50%;">
              <p class="mid-beforeafter">After</p>
              <div style="position: relative; width: 100%;">
                <canvas aria-hidden="true" style="width: 100%;" id="myCanvas3"></canvas>
                <div class="proxy" style="position: absolute; top: 15%; left:  5.5%; height: 64%; width: 22.5%"></div>
                <div class="proxy" style="position: absolute; top: 15%; left: 39.0%; height: 64%; width: 22.5%"></div>
                <div class="proxy" style="position: absolute; top: 15%; left: 72.0%; height: 64%; width: 22.5%"></div>
              </div>
              <script>
                const canvas3 = document.getElementById("myCanvas3");
                canvas3.width = 1800;
                canvas3.height = 600;

                const ctx3 = canvas3.getContext("2d");
                ctx3.fillStyle = "red";
                ctx3.beginPath();
                ctx3.arc(300, 300, 200, 0, Math.PI * 2);
                ctx3.fill();

                ctx3.fillStyle = "blue";
                ctx3.fillRect(700, 100, 400, 400);

                ctx3.fillStyle = "green";
                ctx3.beginPath();
                ctx3.moveTo(1500, 100);
                ctx3.lineTo(1300, 500);
                ctx3.lineTo(1700, 500);
                ctx3.closePath();
                ctx3.fill();
              </script>
            </div>
          </div>
        </div>
      </div>

      <div class="slide-hidden">
        <h1>A11y Tree: Before &amp; After</h1>
        <p style="color: red;">TODO - Show screenshots the a11y tree before and after the addition of Proxy Elements.</p>
      </div>

      <div class="slide">
        <h1>How to style Proxy Elements</h1>
        <ol>
          <li><strong style="color: red">Do not</strong> use <code>display: none</code> or <code>visibility: hidden</code>.</li>
          <li><strong style="color: green">Do</strong> use transparent context (such as <code>opacity: 0</code>).</li>
          <li><strong style="color: green">Do</strong> use the <code>:focus-visible</code> pseudo-class to style the focus indicator.</li>
          <li><strong style="color: green">Do</strong> use <code>position: absolute</code> with a container element.</li>
        </ol>
      </div>

      <div class="slide" id="slide-howtostyle">
        <h1>How to style Proxy Elements - Example</h1>
        <div style="width: 80%; display: flex; flex-direction: row;">
          <div style="width: 63%;">
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">.</span><span class="nc">container</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">1800</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="kt">px</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">.</span><span class="nc">proxy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">.</span><span class="nc">proxy</span><span class="p">:</span><span class="nd">focus-visible</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">outline-color</span><span class="p">:</span><span class="w"> </span><span class="nb">rgb</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<span class="w">    </span><span class="k">outline-offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">outline-width</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">outline-style</span><span class="p">:</span><span class="w"> </span><span class="kc">solid</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">canvas</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myCanvas&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">canvas</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;proxy&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
          <span class="na">style</span><span class="o">=</span><span class="s">&quot;top: 100px; left: 100px; height: 400px; width: 400px&quot;</span><span class="p">&gt;</span>
    Circle
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;proxy&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
          <span class="na">style</span><span class="o">=</span><span class="s">&quot;top: 100px; left: 700px; height: 400px; width: 400px&quot;</span><span class="p">&gt;</span>
    Square
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;proxy&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
          <span class="na">style</span><span class="o">=</span><span class="s">&quot;top: 100px; left: 1300px; height: 400px; width: 400px&quot;</span><span class="p">&gt;</span>
    Triangle
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
          </div>
          <div style="width: 37%; display: flex; flex-direction: column;">
            <div style="height: 50%; align-content: end;">
              <div style="position: relative; width: 100%;">
                <canvas aria-hidden="true" style="width: 100%;" id="myCanvas4"></canvas>
                <button class="proxy" tabindex="0" style="top: 15%; left:  5.5%; height: 64%; width: 22.5%">Circle</button>
                <button class="proxy" tabindex="0" style="top: 15%; left: 39.0%; height: 64%; width: 22.5%">Square</button>
                <button class="proxy" tabindex="0" style="top: 15%; left: 72.0%; height: 64%; width: 22.5%">Triangle</button>
              </div>
              <script>
                const canvas4 = document.getElementById("myCanvas4");
                canvas4.width = 1800;
                canvas4.height = 600;

                const ctx4 = canvas4.getContext("2d");
                ctx4.fillStyle = "red";
                ctx4.beginPath();
                ctx4.arc(300, 300, 200, 0, Math.PI * 2);
                ctx4.fill();

                ctx4.fillStyle = "blue";
                ctx4.fillRect(700, 100, 400, 400);

                ctx4.fillStyle = "green";
                ctx4.beginPath();
                ctx4.moveTo(1500, 100);
                ctx4.lineTo(1300, 500);
                ctx4.lineTo(1700, 500);
                ctx4.closePath();
                ctx4.fill();

                for (const myButton of Array.from(document.querySelectorAll('#slide-howtostyle button'))) {
                  myButton.addEventListener('click', () => {
                    const clicked = document.getElementById('howtostyle-clicked');
                    clicked.textContent = myButton.textContent;
                  });
                }
              </script>
            </div>
            <div style="height: 50%;">
              <p></p>
              <p class="mid-beforeafter">Clicked: <code id="howtostyle-clicked">undefined</code></p>
            </div>
          </div>
        </div>
      </div>

      <div class="slide">
        <h1>Let's see an example with AG Charts</h1>
      </div>

      <div class="slide">
        <div style="height: 80%; width: 80%;" id="myProxyExampleContainer"></div>
        <script>
          function getRIOpts_myProxyExampleChart() {
            return {
              legend: {
                pagination: {
                  marker: { size: 2.5 * gScale },
                  label: { fontSize: 2.3 * gScale },
                },
                item: {
                  marker: { size: 2.5 * gScale },
                  label: { fontSize: 2.3 * gScale },
                  line: {
                    strokeWidth: 1.0 * gScale,
                    length: 6 * gScale,
                  },
                  paddingX: 1 * gScale,
                  paddingY: 1 * gScale,
                },
                maxHeight: 6 * gScale,
                maxWidth: 80 * gScale,
                spacing: 1 * gScale,
              },
            };
          }

          function update_myProxyExampleChart() {
            myProxyExampleChart.updateDelta(getRIOpts_myProxyExampleChart());
          }

          const myProxyExampleChart = agCharts.AgCharts.create({
            container: document.getElementById('myProxyExampleContainer'),
            series: [
              { xKey: 'x', yKey: 'Series 1' },
              { xKey: 'x', yKey: 'Series 2' },
              { xKey: 'x', yKey: 'Series 3' },
              { xKey: 'x', yKey: 'Series 4' },
              { xKey: 'x', yKey: 'Series 5' },
              { xKey: 'x', yKey: 'Series 6' },
              { xKey: 'x', yKey: 'Series 7' },
              { xKey: 'x', yKey: 'Series 8' },
              { xKey: 'x', yKey: 'Series 9' },
              { xKey: 'x', yKey: 'Series 10' },
              { xKey: 'x', yKey: 'Series 11' },
              { xKey: 'x', yKey: 'Series 12' },
              { xKey: 'x', yKey: 'Series 13' },
            ],
            overlays: {
              noData: {
                renderer: () => {
                  return [
                    "<div",
                    '    style="',
                    "        align-items: center;",
                    "        background: hsl(45deg, 100%, 90%);",
                    "        border: 2px solid hsl(0deg, 100%, 75%);",
                    "        box-sizing: border-box;",
                    "        color: black;",
                    "        display: flex;",
                    "        height: calc(100% - 16px);",
                    "        justify-content: center;",
                    "        margin: 8px;",
                    '    "',
                    ">",
                    "    Placeholder (no data to show)",
                    "</div>",
                  ].join("\n");
                },
              },
            },
            ...getRIOpts_myProxyExampleChart(),
          });

          window.addEventListener('resize', update_myProxyExampleChart);
          update_myProxyExampleChart();
        </script>
      </div>

      <div class="slide">
        <h1>Proxy Elements</h1>
        <ul>
          <li>Proxy DOM elements <strong style="color: green">work well</strong> for:</li>
          <ul>
            <li>UI Controls that do not update much or often.</li>
            <li>UI Controls that map to an ARIA semantic (like <code>role="button"</code>).</li>
          </ul>
          <li>Proxy DOM elements <strong style="color: red">do not work well</strong> for:</li>
          <ul>
            <li>Custom or innovative UI Controls.</li>
          </ul>
        </ul>
      </div>

      <div class="slide" id="simple-ball-example">
        <h1>Interactive Canvas - Simple Ball Example</h1>
        <br/>
        <div role="figure" aria-label="interactive canvas" class="container" id="simple-ball-example-container" >
          <canvas id="simple-ball-example-canvas" aria-hidden="true" width="400px" height="100px"></canvas>

          <!-- Two announcer elements for accessibility -->
          <div id="simple-ball-example-announcer1" role="img" class="announcer" tabindex="0"  aria-label="Position 1"></div>
          <div id="simple-ball-example-announcer2" role="img" class="announcer" tabindex="-1" aria-label=""></div>
        </div>

        <script>
          (() => {
            const canvas = document.getElementById('simple-ball-example-canvas');
            const ctx = canvas.getContext('2d');

            const announcer1 = document.getElementById('simple-ball-example-announcer1');
            const announcer2 = document.getElementById('simple-ball-example-announcer2');

            const positions = [50, 100, 150, 200, 250, 300, 350]; // Ball's X positions for 5 slots
            let currentPos = 0; // Current ball position, starting at 1st position
            let activeAnnouncer = announcer1;
            let inactiveAnnouncer = announcer2;

            function drawBall() {
              ctx.fillStyle = 'lime';
              ctx.fillRect(0, 0, canvas.width, canvas.height);
              ctx.beginPath();
              ctx.arc(positions[currentPos], 50, 20, 0, Math.PI * 2);
              ctx.fillStyle = 'black';
              ctx.fill();
              ctx.closePath();
            }

            function moveBall(event, direction) {
              event.preventDefault();
              if (direction === 'left' && currentPos > 0) {
                currentPos--;
              } else if (direction === 'right' && currentPos < 6) {
                currentPos++;
              }
              drawBall();
              switchAnnouncer(currentPos);
            }

            function updateBounds() {
              const container = document.getElementById('simple-ball-example-container');
              container.style.width  = `${40 * gScale}px`;
              container.style.height = `${10 * gScale}px`;
            }

            function switchAnnouncer(newPosition) {
              // Swap announcer states
              [activeAnnouncer, inactiveAnnouncer]  = [inactiveAnnouncer, activeAnnouncer];

              activeAnnouncer.setAttribute('aria-label', `Position ${newPosition + 1}`);
              activeAnnouncer.setAttribute('tabindex', '0');
              activeAnnouncer.style.display = 'block';
              inactiveAnnouncer.setAttribute('tabindex', '-1');
              inactiveAnnouncer.style.display = 'none';

              // Announce new value
              activeAnnouncer.focus();
            }

            function onKeyDown(event) {
              if (event.key === 'ArrowLeft') {
                moveBall(event, 'left');
              } else if (event.key === 'ArrowRight') {
                moveBall(event, 'right');
              }
            }

            activeAnnouncer.addEventListener('keydown', onKeyDown);
            inactiveAnnouncer.addEventListener('keydown', onKeyDown);
            window.addEventListener('resize', updateBounds);
            updateBounds();

            drawBall();
          })();
        </script>
      </div>

      <div class="slide">
        <h1>Interactive Canvas - What's going on?</h1>
        <ul>
          <li><strong>The trick:</strong></li>
          <ul>
            <li>Treat screen-reader announcements like video frames.</li>
            <li>Use a swapchain of <code>aria-label</code> values.</li>
            <li>"Present" new <code>aria-label</code> values using <code>focus()</code>.</li>
          </ul>
          <li><strong>Why this works?</strong></li>
          <ul>
            <li>It follows the same update-pattern as the canvas<br/>(which is basically like a video, sort of).</li>
            <li>Assistive Technology handle focus changes very well.</li>
          </ul>
        </ul>
      </div>

      <div class="slide" id="simple-ball-demo">
        <h1>Interactive Canvas - Simple Demo</h1>
        <div style="width: 100%; display: flex; flex-direction: row;">
          <div style="width: 63%;">
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;figure&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;interactive canvas&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">canvas</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;400px&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;100px&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">canvas</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myAnnouncer1&quot;</span>
       <span class="na">role</span><span class="o">=</span><span class="s">&quot;img&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;<span id="announcer1-tabindex">0</span>&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;<span id="announcer1-aria-label">Position 1</span>&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;display: <span id="announcer1-display">block</span>&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myAnnouncer2&quot;</span>
       <span class="na">role</span><span class="o">=</span><span class="s">&quot;img&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;<span id="announcer2-tabindex">0</span>&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;<span id="announcer2-aria-label"></span>&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;display: <span id="announcer2-display">none</span>&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Current ball position, starting at 1st position</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">activeAnnouncer</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;myAnnouncer1&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">inactiveAnnouncer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;myAnnouncer2&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">onKeyDown</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Update state:</span>
<span class="w">    </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;ArrowLeft&#39;</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">currentPos</span><span class="o">--</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;ArrowRight&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">currentPos</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="nx">drawBall</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Swap announcer states</span>
<span class="w">    </span><span class="p">[</span><span class="nx">activeAnnouncer</span><span class="p">,</span><span class="w"> </span><span class="nx">inactiveAnnouncer</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nx">inactiveAnnouncer</span><span class="p">,</span><span class="w"> </span><span class="nx">activeAnnouncer</span><span class="p">];</span>
<span class="w">    </span><span class="nx">activeAnnouncer</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;aria-label&#39;</span><span class="p">,</span><span class="w"> </span><span class="sb">`Position </span><span class="si">${</span><span class="nx">newPosition</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">activeAnnouncer</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;block&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">inactiveAnnouncer</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Announce new value</span>
<span class="w">    </span><span class="nx">activeAnnouncer</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">activeAnnouncer</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onKeyDown</span><span class="p">);</span>
<span class="w">  </span><span class="nx">inactiveAnnouncer</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onKeyDown</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
          </div>
          <div style="width: 37%; display: flex; flex-direction: column;">
            <br/>
            <div role="figure" aria-label="interactive canvas" class="container" id="simple-ball-demo-container" >
              <canvas id="simple-ball-demo-canvas" aria-hidden="true" width="400px" height="100px"></canvas>

              <!-- Two announcer elements for accessibility -->
              <div id="simple-ball-demo-announcer1" role="img" class="announcer" tabindex="0" style="display: block" aria-label="Position 1"></div>
              <div id="simple-ball-demo-announcer2" role="img" class="announcer" tabindex="0" style="display: none" aria-label=""></div>
            </div>

            <script>
              (() => {
                let currentPos = 0; // Current ball position, starting at 1st position
                let activeAnnouncer = document.getElementById('simple-ball-demo-announcer1');
                let inactiveAnnouncer = document.getElementById('simple-ball-demo-announcer2');

                function onKeyDown(event) {
                  // Update state:
                  event.preventDefault();
                  if (event.key === 'ArrowLeft'  && currentPos > 0) { currentPos--; }
                  if (event.key === 'ArrowRight' && currentPos < 6) { currentPos++; }

                  // Swap announcer states
                  [activeAnnouncer, inactiveAnnouncer]  = [inactiveAnnouncer, activeAnnouncer];
                  activeAnnouncer.setAttribute('aria-label', `Position ${currentPos + 1}`);
                  activeAnnouncer.style.display = 'block';
                  inactiveAnnouncer.style.display = 'none';
                  drawBall();

                  // Announce new value
                  activeAnnouncer.focus();
                }

                activeAnnouncer.addEventListener('keydown', onKeyDown);
                inactiveAnnouncer.addEventListener('keydown', onKeyDown);

                // Boilerplate code (not shown on slide)
                const canvas = document.getElementById('simple-ball-demo-canvas');
                const ctx = canvas.getContext('2d');
                const positions = [50, 100, 150, 200, 250, 300, 350]; // Ball's X positions for 5 slots

                function drawBall() {
                  ctx.fillStyle = 'lime';
                  ctx.fillRect(0, 0, canvas.width, canvas.height);
                  ctx.beginPath();
                  ctx.arc(positions[currentPos], 50, 20, 0, Math.PI * 2);
                  ctx.fillStyle = 'black';
                  ctx.fill();
                  ctx.closePath();

                  // Just the HTML code shown the slide
                  const announcer1 = document.getElementById('simple-ball-demo-announcer1');
                  const announcer2 = document.getElementById('simple-ball-demo-announcer2');
                  const announcer1_tabindex = document.getElementById('announcer1-tabindex');
                  const announcer2_tabindex = document.getElementById('announcer2-tabindex');
                  const announcer1_display = document.getElementById('announcer1-display');
                  const announcer2_display = document.getElementById('announcer2-display');
                  const announcer1_arialabel = document.getElementById('announcer1-aria-label');
                  const announcer2_arialabel = document.getElementById('announcer2-aria-label');
                  announcer1_tabindex.textContent = `${announcer1.tabIndex}`;
                  announcer2_tabindex.textContent = `${announcer2.tabIndex}`;
                  announcer1_display.textContent = announcer1.style.display;
                  announcer2_display.textContent = announcer2.style.display;
                  announcer1_arialabel.textContent = announcer1.getAttribute('aria-label');
                  announcer2_arialabel.textContent = announcer2.getAttribute('aria-label');
                }

                function updateBounds() {
                  const container = document.getElementById('simple-ball-demo-container');
                  container.style.width  = `${24 * gScale}px`;
                  container.style.height = `${6 * gScale}px`;
                }

                window.addEventListener('resize', updateBounds);
                updateBounds();
                drawBall();
              })();
            </script>
          </div>
        </div>
      </div>

      <div class="slide" id="custom-focus-indicator-demo">
        <div style="width: 100%; display: flex; flex-direction: row;">
          <div style="width: 63%; overflow: hidden">
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">.</span><span class="nc">announcer</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">      </span><span class="c">/* ... */</span>
<span class="w">      </span><span class="k">opacity</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="added"><span class="w">  </span><span class="p">.</span><span class="nc">announcer</span><span class="p">:</span><span class="nd">focus-visible</span><span class="w"> </span><span class="p">{                                                                                </span>
<span class="w">      </span><span class="k">opacity</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;                                                                                </span>
<span class="w">  </span><span class="p">}                                                                                                   </span>
<span class="w">  </span><span class="p">.</span><span class="nc">focus-indicator</span><span class="w"> </span><span class="p">{                                                                                </span>
<span class="w">      </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;                                                                                </span>
<span class="w">      </span><span class="k">pointer-events</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;                                                                                </span>
<span class="w">      </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;                                                                      </span>
<span class="w">      </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;                                                                                </span>
<span class="w">      </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">2</span><span class="kt">px</span><span class="w"> </span><span class="kc">white</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="w"> </span><span class="mh">#ff00ff</span><span class="p">;                                             </span>
<span class="w">  </span><span class="p">}                                                                                                                                                                                                        </span>
</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;figure&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;interactive canvas&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">canvas</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">canvas</span><span class="p">&gt;</span>
<span class="added">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;announcer&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;announcer1&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;img&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Position 1&quot;</span><span class="p">&gt;         </span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;focus-indicator&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;none&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;                                   </span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;                                                                                          </span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;announcer&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;announcer2&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;img&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;                   </span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;focus-indicator&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;none&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;                                   </span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;                                                                                          </span>
</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">onKeyDown</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">updateBall</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
<span class="w">    </span><span class="nx">swapAnnouncers</span><span class="p">();</span>
<span class="w">    </span><span class="nx">updateFocusIndicator</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">updateFocusIndicator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">bounds</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">calcFocusIndicatorBounds</span><span class="p">(</span><span class="nx">newPosition</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">focusEl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">activeAnnouncer</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.focus-indicator&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">focusEl</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nx">bounds</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span>
<span class="w">    </span><span class="nx">focusEl</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nx">bounds</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span>
<span class="w">    </span><span class="nx">focusEl</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">bounds</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
<span class="w">    </span><span class="nx">focusEl</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bounds</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
          </div>
          <div style="width: 37%; display: flex; flex-direction: column; margin-left: calc(2 * var(--scale));">
            <h1>Custom Focus Indicator</h1>
            <br/>
            <div role="figure" aria-label="interactive canvas" class="container" id="custom-focus-indicator-container" >
              <canvas id="custom-focus-indicator-canvas" aria-hidden="true" width="400px" height="100px"></canvas>
              <div id="custom-focus-indicator-announcer1" role="img" class="announcer" tabindex="0" style="display: block" aria-label="Position 1">
                <div class="focus-indicator" role="none" style="left: 7.46269%; top: 29.4118%; width: 10.9453%; height: 43.1373%;"></div>
              </div>
              <div id="custom-focus-indicator-announcer2" role="img" class="announcer" tabindex="0" style="display: none" aria-label="">
                <div class="focus-indicator" role="none" style="left: 7.46269%; top: 29.4118%; width: 10.9453%; height: 43.1373%;"></div>
              </div>
            </div>

            <script>
              (() => {
                let currentPos = 0; // Current ball position, starting at 1st position
                let activeAnnouncer = document.getElementById('custom-focus-indicator-announcer1');
                let inactiveAnnouncer = document.getElementById('custom-focus-indicator-announcer2');

                function onKeyDown(event) {
                  // Update state:
                  event.preventDefault();
                  if (event.key === 'ArrowLeft'  && currentPos > 0) { currentPos--; }
                  if (event.key === 'ArrowRight' && currentPos < 6) { currentPos++; }

                  // Swap announcer states
                  [activeAnnouncer, inactiveAnnouncer]  = [inactiveAnnouncer, activeAnnouncer];
                  activeAnnouncer.setAttribute('aria-label', `Position ${currentPos + 1}`);
                  activeAnnouncer.style.display = 'block';
                  inactiveAnnouncer.style.display = 'none';
                  drawBall();

                  // Announce new value
                  activeAnnouncer.focus();
                }

                function updateFocusIndicator(bounds) {
                  const focusEl = activeAnnouncer.querySelector('.focus-indicator');
                  focusEl.style.left = bounds.left;
                  focusEl.style.top = bounds.top;
                  focusEl.style.width = bounds.width;
                  focusEl.style.height = bounds.height;
                }

                activeAnnouncer.addEventListener('keydown', onKeyDown);
                inactiveAnnouncer.addEventListener('keydown', onKeyDown);

                // Boilerplate code (not shown on slide)
                const canvas = document.getElementById('custom-focus-indicator-canvas');
                const ctx = canvas.getContext('2d');
                const positions = [50, 100, 150, 200, 250, 300, 350]; // Ball's X positions for 5 slots

                function drawBall() {
                  ctx.fillStyle = 'lime';
                  ctx.fillRect(0, 0, canvas.width, canvas.height);
                  ctx.beginPath();
                  ctx.arc(positions[currentPos], 50, 20, 0, Math.PI * 2);
                  ctx.fillStyle = 'black';
                  ctx.fill();
                  ctx.closePath();

                  // Just the HTML code shown the slide
                  const announcer1 = document.getElementById('custom-focus-indicator-announcer1');
                  const announcer2 = document.getElementById('custom-focus-indicator-announcer2');
                  const announcer1_tabindex = document.getElementById('announcer1-tabindex');
                  const announcer2_tabindex = document.getElementById('announcer2-tabindex');
                  const announcer1_display = document.getElementById('announcer1-display');
                  const announcer2_display = document.getElementById('announcer2-display');
                  const announcer1_arialabel = document.getElementById('announcer1-aria-label');
                  const announcer2_arialabel = document.getElementById('announcer2-aria-label');
                  announcer1_tabindex.textContent = `${announcer1.tabIndex}`;
                  announcer2_tabindex.textContent = `${announcer2.tabIndex}`;
                  announcer1_display.textContent = announcer1.style.display;
                  announcer2_display.textContent = announcer2.style.display;
                  announcer1_arialabel.textContent = announcer1.getAttribute('aria-label');
                  announcer2_arialabel.textContent = announcer2.getAttribute('aria-label');

                  const bounds = calcFocusIndicatorBounds(currentPos);
                  updateFocusIndicator(bounds);
                }

                function calcFocusIndicatorBounds(newPosition) {
                  const rect = canvas.getBoundingClientRect();
                  const scale = rect.width / 400;

                  const left   = positions[newPosition] - 20;
                  const top    = 30;
                  const width  = 40
                  const height = 40;

                  return {
                    left:   `${left   * scale}px`,
                    top:    `${top    * scale}px`,
                    width:  `${width  * scale}px`,
                    height: `${height * scale}px`,
                  };
                }

                function updateBounds() {
                  const container = document.getElementById('custom-focus-indicator-container');
                  container.style.width  = `${24 * gScale}px`;
                  container.style.height = `${6 * gScale}px`;
                }

                window.addEventListener('resize', updateBounds);
                updateBounds();
                drawBall();
              })();
            </script>
          </div>
        </div>
      </div>

      <div class="slide-hidden">
        <h1>Gotcha! :focus-visible caveats</h1>
        <p style="color: red;">TODO - :focus-visible is browser-dependent.</p>
        <p style="color: red;">TODO - :focus-visible behave differently with DIVs on different browsers.</p>
        <p style="color: red;">TODO - we use [data-focus-visible-override] to standardise the focus indicator behaviour.</p>
      </div>

      <div class="slide-hidden">
        <h1>Gotcha! disabled input/buttons</h1>
        <p style="color: red;">TODO - use aria-disabled="true" but inert.</p>
      </div>

      <div class="slide-hidden">
        <h1>Gotcha! aria-labelledby &amp; i18n</h1>
        <p style="color: red;">TODO - multi-lingual screenreaders prefer aria-labelledby than aria-label.</p>
      </div>

      <div class="slide-hidden">
        <h1>Gotcha! preventDefault</h1>
        <p style="color: red;">TODO - make to call preventDefault (especially if you use a div with an aria role).</p>
      </div>

      <div class="slide">
        <h1>Thanks!</h1>
        <p>Feel free to ask questions.</p>
      </div>

    </div>

    <div class="controls">
      <button onclick="prevSlide()">Previous</button>
      <button onclick="nextSlide()">Next</button>
    </div>
  </div>

  <script>
    const slides = document.querySelectorAll('.slide');
    let current = 0;
    let isfullscreen = false;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
    }

    function nextSlide() {
      current = Math.min(current + 1, slides.length - 1);
      showSlide(current);
    }

    function prevSlide() {
      current = Math.max(current - 1, 0);
      showSlide(current);
    }

    function openFullscreen() {
      if (document.documentElement.requestFullscreen) {
        document.documentElement.requestFullscreen();
      } else if (document.documentElement.webkitRequestFullscreen) { /* Safari */
        document.documentElement.webkitRequestFullscreen();
      } else if (document.documentElement.msRequestFullscreen) { /* IE11 */
        document.documentElement.msRequestFullscreen();
      }
      isfullscreen = true;
    }

    function closeFullscreen() {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) { /* Safari */
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE11 */
        document.msExitFullscreen();
      }
      isfullscreen = false;
    }

    function toggleFullscreen() {
      if (isfullscreen) {
        closeFullscreen();
      } else {
        openFullscreen();
      }
    }

    document.addEventListener('keydown', e => {
      if (!e.ctrlKey && !e.altKey && e.metaKey) {
        if (e.key === 'ArrowRight') nextSlide();
        if (e.key === 'ArrowLeft') prevSlide();
      }
      if (e.key === ']') nextSlide();
      if (e.key === '[') prevSlide();
      if (e.code === 'KeyF') toggleFullscreen();
    });
  </script>

</body>
</html>
